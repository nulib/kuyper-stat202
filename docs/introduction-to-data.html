<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>OpenIntro Statistics: Labs for R</title>
  <meta name="description" content="This book contains labs for an introduction to statistics course. Each lab steps through the process of using the R programming language for collecting, analyzing, and using statistical data to make inferences and conclusions about real world phenomena.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="OpenIntro Statistics: Labs for R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book contains labs for an introduction to statistics course. Each lab steps through the process of using the R programming language for collecting, analyzing, and using statistical data to make inferences and conclusions about real world phenomena." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="OpenIntro Statistics: Labs for R" />
  
  <meta name="twitter:description" content="This book contains labs for an introduction to statistics course. Each lab steps through the process of using the R programming language for collecting, analyzing, and using statistical data to make inferences and conclusions about real world phenomena." />
  

<meta name="author" content="Andrew Bray">
<meta name="author" content="Mine Çetinkaya-Rundel">
<meta name="author" content="Arend Kuyper">


<meta name="date" content="2018-01-01">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction-to-r-and-rstudio.html">
<link rel="next" href="the-normal-distribution.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<!-- Google Scholar -->
<meta name="citation_title" content="OpenIntro Statistics: Labs for R">
<meta name="citation_author" content="Bray, Andrew">
<meta name="citation_author" content="Çetinkaya-Rundel, Mine">
<meta name="citation_author" content="Kuyper, Arend">
<meta name="citation_publication_date" content="2018">
<meta name="citation_epub_url" content="https://nulib.github.io/kuyper-stat202/kuyper-stat202.epub">
<meta name="citation_pdf_url" content="https://nulib.github.io/kuyper-stat202/kuyper-stat202.pdf">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116823108-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-116823108-3');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">OpenIntro Statistics: Labs for R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#using-these-labs"><i class="fa fa-check"></i><b>0.1</b> Using these labs</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="working-efficiently-with-rstudio.html"><a href="working-efficiently-with-rstudio.html"><i class="fa fa-check"></i><b>1</b> Working Efficiently with RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="working-efficiently-with-rstudio.html"><a href="working-efficiently-with-rstudio.html#why-rstudio"><i class="fa fa-check"></i><b>1.1</b> Why RStudio?</a></li>
<li class="chapter" data-level="1.2" data-path="working-efficiently-with-rstudio.html"><a href="working-efficiently-with-rstudio.html#setting-up-an-r-project"><i class="fa fa-check"></i><b>1.2</b> Setting Up an R Project</a></li>
<li class="chapter" data-level="1.3" data-path="working-efficiently-with-rstudio.html"><a href="working-efficiently-with-rstudio.html#summary"><i class="fa fa-check"></i><b>1.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and RStudio</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#the-data-dr.arbuthnots-baptism-records"><i class="fa fa-check"></i><b>2.1</b> The Data: Dr. Arbuthnot’s Baptism Records</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#some-exploration"><i class="fa fa-check"></i><b>2.2</b> Some Exploration</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#on-your-own"><i class="fa fa-check"></i><b>2.3</b> On Your Own</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-data.html"><a href="introduction-to-data.html"><i class="fa fa-check"></i><b>3</b> Introduction to Data</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-data.html"><a href="introduction-to-data.html#getting-started"><i class="fa fa-check"></i><b>3.1</b> Getting started</a></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-data.html"><a href="introduction-to-data.html#summaries-and-tables"><i class="fa fa-check"></i><b>3.2</b> Summaries and tables</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-data.html"><a href="introduction-to-data.html#interlude-how-r-thinks-about-data"><i class="fa fa-check"></i><b>3.3</b> Interlude: How R thinks about data</a></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-data.html"><a href="introduction-to-data.html#a-little-more-on-subsetting"><i class="fa fa-check"></i><b>3.4</b> A little more on subsetting</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-data.html"><a href="introduction-to-data.html#quantitative-data"><i class="fa fa-check"></i><b>3.5</b> Quantitative data</a></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-data.html"><a href="introduction-to-data.html#on-your-own-1"><i class="fa fa-check"></i><b>3.6</b> On Your Own</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html"><i class="fa fa-check"></i><b>4</b> The Normal Distribution</a><ul>
<li class="chapter" data-level="4.1" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#getting-started-1"><i class="fa fa-check"></i><b>4.1</b> Getting started</a></li>
<li class="chapter" data-level="4.2" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#the-data"><i class="fa fa-check"></i><b>4.2</b> The Data</a></li>
<li class="chapter" data-level="4.3" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#normal-distribution"><i class="fa fa-check"></i><b>4.3</b> Normal distribution</a></li>
<li class="chapter" data-level="4.4" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#evaluating-the-normal-distribution"><i class="fa fa-check"></i><b>4.4</b> Evaluating the normal distribution</a></li>
<li class="chapter" data-level="4.5" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#normal-probabilities"><i class="fa fa-check"></i><b>4.5</b> Normal probabilities</a></li>
<li class="chapter" data-level="4.6" data-path="the-normal-distribution.html"><a href="the-normal-distribution.html#on-your-own-2"><i class="fa fa-check"></i><b>4.6</b> On Your Own</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html"><i class="fa fa-check"></i><b>5</b> Foundations for Statistical Inference - Sampling Distributions</a><ul>
<li class="chapter" data-level="5.1" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#getting-started-2"><i class="fa fa-check"></i><b>5.1</b> Getting started</a></li>
<li class="chapter" data-level="5.2" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#the-data-1"><i class="fa fa-check"></i><b>5.2</b> The data</a></li>
<li class="chapter" data-level="5.3" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#the-unknown-sampling-distribution"><i class="fa fa-check"></i><b>5.3</b> The unknown sampling distribution</a></li>
<li class="chapter" data-level="5.4" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#interlude-the-for-loop"><i class="fa fa-check"></i><b>5.4</b> Interlude: The <code>for</code> loop</a></li>
<li class="chapter" data-level="5.5" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#sample-size-and-the-sampling-distribution"><i class="fa fa-check"></i><b>5.5</b> Sample size and the sampling distribution</a></li>
<li class="chapter" data-level="5.6" data-path="foundations-for-statistical-inference-sampling-distributions.html"><a href="foundations-for-statistical-inference-sampling-distributions.html#on-your-own-3"><i class="fa fa-check"></i><b>5.6</b> On your own</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html"><i class="fa fa-check"></i><b>6</b> Confidence Intervals - Foundations for Statistical Inference</a><ul>
<li class="chapter" data-level="6.1" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html#sampling-from-ames-iowa"><i class="fa fa-check"></i><b>6.1</b> Sampling from Ames, Iowa</a></li>
<li class="chapter" data-level="6.2" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html#the-data-2"><i class="fa fa-check"></i><b>6.2</b> The data</a></li>
<li class="chapter" data-level="6.3" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html#confidence-intervals"><i class="fa fa-check"></i><b>6.3</b> Confidence intervals</a></li>
<li class="chapter" data-level="6.4" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html#confidence-levels"><i class="fa fa-check"></i><b>6.4</b> Confidence levels</a></li>
<li class="chapter" data-level="6.5" data-path="confidence-intervals-foundations-for-statistical-inference.html"><a href="confidence-intervals-foundations-for-statistical-inference.html#on-your-own-4"><i class="fa fa-check"></i><b>6.5</b> On your own</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="inference-for-numerical-data.html"><a href="inference-for-numerical-data.html"><i class="fa fa-check"></i><b>7</b> Inference for Numerical Data</a><ul>
<li class="chapter" data-level="7.1" data-path="inference-for-numerical-data.html"><a href="inference-for-numerical-data.html#overview"><i class="fa fa-check"></i><b>7.1</b> Overview</a></li>
<li class="chapter" data-level="7.2" data-path="inference-for-numerical-data.html"><a href="inference-for-numerical-data.html#north-carolina-births"><i class="fa fa-check"></i><b>7.2</b> North Carolina births</a></li>
<li class="chapter" data-level="7.3" data-path="inference-for-numerical-data.html"><a href="inference-for-numerical-data.html#exploratory-analysis"><i class="fa fa-check"></i><b>7.3</b> Exploratory analysis</a></li>
<li class="chapter" data-level="7.4" data-path="inference-for-numerical-data.html"><a href="inference-for-numerical-data.html#on-your-own-5"><i class="fa fa-check"></i><b>7.4</b> On your own</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html"><i class="fa fa-check"></i><b>8</b> Inference for Categorical Data</a><ul>
<li class="chapter" data-level="8.0.1" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#getting-started-3"><i class="fa fa-check"></i><b>8.0.1</b> Getting Started</a></li>
<li class="chapter" data-level="8.1" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#the-survey"><i class="fa fa-check"></i><b>8.1</b> The survey</a></li>
<li class="chapter" data-level="8.2" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#the-data-3"><i class="fa fa-check"></i><b>8.2</b> The data</a></li>
<li class="chapter" data-level="8.3" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#inference-on-proportions"><i class="fa fa-check"></i><b>8.3</b> Inference on proportions</a></li>
<li class="chapter" data-level="8.4" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#how-does-the-proportion-affect-the-margin-of-error"><i class="fa fa-check"></i><b>8.4</b> How does the proportion affect the margin of error?</a></li>
<li class="chapter" data-level="8.5" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#success-failure-condition"><i class="fa fa-check"></i><b>8.5</b> Success-failure condition</a></li>
<li class="chapter" data-level="8.6" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#on-your-own-6"><i class="fa fa-check"></i><b>8.6</b> On your own</a></li>
<li class="chapter" data-level="8.7" data-path="inference-for-categorical-data.html"><a href="inference-for-categorical-data.html#options-for-using-built-in-functions-in-r-prop.test-binom.test"><i class="fa fa-check"></i><b>8.7</b> Options for using built in functions in R: <code>prop.test()</code> &amp; <code>binom.test()</code></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html"><i class="fa fa-check"></i><b>9</b> Introduction to Linear Regression</a><ul>
<li class="chapter" data-level="9.1" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#batter-up-getting-started"><i class="fa fa-check"></i><b>9.1</b> Batter up (Getting Started)</a></li>
<li class="chapter" data-level="9.2" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#the-data-4"><i class="fa fa-check"></i><b>9.2</b> The data</a></li>
<li class="chapter" data-level="9.3" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#sum-of-squared-residuals"><i class="fa fa-check"></i><b>9.3</b> Sum of squared residuals</a></li>
<li class="chapter" data-level="9.4" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#the-linear-model"><i class="fa fa-check"></i><b>9.4</b> The linear model</a></li>
<li class="chapter" data-level="9.5" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#prediction-and-prediction-errors"><i class="fa fa-check"></i><b>9.5</b> Prediction and prediction errors</a></li>
<li class="chapter" data-level="9.6" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#model-diagnostics"><i class="fa fa-check"></i><b>9.6</b> Model diagnostics</a></li>
<li class="chapter" data-level="9.7" data-path="introduction-to-linear-regression.html"><a href="introduction-to-linear-regression.html#on-your-own-7"><i class="fa fa-check"></i><b>9.7</b> On Your Own</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i><b>10</b> Multiple Linear Regression</a><ul>
<li class="chapter" data-level="10.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#getting-started-4"><i class="fa fa-check"></i><b>10.1</b> Getting Started</a></li>
<li class="chapter" data-level="10.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#the-data-5"><i class="fa fa-check"></i><b>10.2</b> The data</a></li>
<li class="chapter" data-level="10.3" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#the-search-for-the-best-model"><i class="fa fa-check"></i><b>10.3</b> The search for the best model</a><ul>
<li class="chapter" data-level="10.3.1" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#predicting-runs-with-backward-selection"><i class="fa fa-check"></i><b>10.3.1</b> Predicting runs with backward selection</a></li>
<li class="chapter" data-level="10.3.2" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#predicting-runs-with-forward-selection"><i class="fa fa-check"></i><b>10.3.2</b> Predicting runs with forward selection</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#assessing-the-conditions"><i class="fa fa-check"></i><b>10.4</b> Assessing the conditions</a></li>
<li class="chapter" data-level="10.5" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html#on-your-own-8"><i class="fa fa-check"></i><b>10.5</b> On Your Own</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.library.northwestern.edu/research/scholarly/digital-publishing.html" target="blank">Published by Northwestern University Libraries</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">OpenIntro Statistics: Labs for R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-data" class="section level1">
<h1><span class="header-section-number">3</span> Introduction to Data</h1>
<p>This lab is structured to guide you through an organized process such that you could easily organize your code with comments – meaning your R script – into a lab report. I would suggest getting into the habit of writing an organized and commented R script that completes the tasks and answers the questions provided in the lab – including in the <strong>Own Your Own</strong> section.</p>
<hr />
<p>Some define Statistics as the field that focuses on turning information into knowledge. The first step in that process is to summarize and describe the raw information - the data. In this lab, you will gain insight into public health by generating simple graphical and numerical summaries of a data set collected by the Centers for Disease Control and Prevention (CDC). As this is a large data set, along the way you’ll also learn the indispensable skills of data processing and subsetting.</p>
<div id="getting-started" class="section level2">
<h2><span class="header-section-number">3.1</span> Getting started</h2>
<p>The Behavioral Risk Factor Surveillance System (BRFSS) is an annual telephone survey of 350,000 people in the United States. As its name implies, the BRFSS is designed to identify risk factors in the adult population and report emerging health trends. For example, respondents are asked about their diet and weekly physical activity, their HIV/AIDS status, possible tobacco use, and even their level of healthcare coverage. The BRFSS Web site (<a href="http://www.cdc.gov/brfss" class="uri">http://www.cdc.gov/brfss</a>) contains a complete description of the survey, including the research questions that motivate the study and many interesting results derived from the data.</p>
<p>We will focus on a random sample of 20,000 people from the BRFSS survey conducted in 2000. While there are over 200 variables in this data set, we will work with a small subset.</p>
<p>We begin by loading the data set of 20,000 observations into the R workspace. After launching RStudio, enter the following command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">source</span>(<span class="st">&quot;http://www.openintro.org/stat/data/cdc.R&quot;</span>)</code></pre></div>
<p>The data set <code>cdc</code> that shows up in your workspace is a <em>data matrix</em>, with each row representing a <em>case</em> and each column representing a <em>variable</em>. R calls this data format a <em>data frame</em>, which is a term that will be used throughout the labs.</p>
<p>To view the names of the variables, type the command</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(cdc)</code></pre></div>
<p>This returns the names <code>genhlth</code>, <code>exerany</code>, <code>hlthplan</code>, <code>smoke100</code>, <code>height</code>, <code>weight</code>, <code>wtdesire</code>, <code>age</code>, and <code>gender</code>. Each one of these variables corresponds to a question that was asked in the survey. For example, for <code>genhlth</code>, respondents were asked to evaluate their general health, responding either excellent, very good, good, fair or poor. The <code>exerany</code> variable indicates whether the respondent exercised in the past month (1) or did not (0). Likewise, <code>hlthplan</code> indicates whether the respondent had some form of health coverage (1) or did not (0). The <code>smoke100</code> variable indicates whether the respondent had smoked at least 100 cigarettes in her lifetime. The other variables record the respondent’s <code>height</code> in inches, <code>weight</code> in pounds as well as their desired weight, <code>wtdesire</code>, <code>age</code> in years, and <code>gender</code>.</p>
<hr />
<p><strong>Exercise 1:</strong> How many cases are there in this data set? How many variables? For each variable, identify its data type (e.g. categorical, discrete).</p>
<hr />
<p>We can have a look at the first few entries (rows) of our data with the command</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(cdc)</code></pre></div>
<p>and similarly we can look at the last few by typing</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(cdc)</code></pre></div>
<p>You could also look at <em>all</em> of the data frame at once by typing its name into the console, but that might be unwise here. We know <code>cdc</code> has 20,000 rows, so viewing the entire data set would mean flooding your screen. It’s better to take small peeks at the data with <code>head</code>, <code>tail</code> or the subsetting techniques that you’ll learn in a moment.</p>
</div>
<div id="summaries-and-tables" class="section level2">
<h2><span class="header-section-number">3.2</span> Summaries and tables</h2>
<p>The BRFSS questionnaire is a massive trove of information. A good first step in any analysis is to distill all of that information into a few summary statistics and graphics. As a simple example, the function <code>summary</code> returns a numerical summary: minimum, first quartile, median, mean, second quartile, and maximum.</p>
<p>For <code>weight</code> this is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(cdc$weight)</code></pre></div>
<p>R also functions like a very fancy calculator. If you wanted to compute the interquartile range for the respondents’ weight, you would look at the output from the summary command above and then enter</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">190</span> -<span class="st"> </span><span class="dv">140</span></code></pre></div>
<p>R also has built-in functions to compute summary statistics one by one. For instance, to calculate the mean, median, and variance of <code>weight</code>, type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(cdc$weight)
<span class="kw">var</span>(cdc$weight)
<span class="kw">median</span>(cdc$weight)</code></pre></div>
<p>While it makes sense to describe a quantitative variable like <code>weight</code> in terms of these statistics, what about categorical data? We would instead consider the sample frequency or relative frequency distribution. The function <code>table</code> does this for you by counting the number of times each kind of response was given. For example, to see the number of people who have smoked 100 cigarettes in their lifetime, type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(cdc$smoke100)</code></pre></div>
<p>or instead look at the relative frequency distribution by typing</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(cdc$smoke100)/<span class="dv">20000</span></code></pre></div>
<p>Notice how R automatically divides all entries in the table by 20,000 in the command above. This is similar to something we observed in the Introduction to R; when we multiplied or divided a vector with a number, R applied that action across entries in the vectors. As we see above, this also works for tables. Next, we make a bar plot of the entries in the table by putting the table inside the <code>barplot</code> command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="kw">table</span>(cdc$smoke100))</code></pre></div>
<p>Notice what we’ve done here! We’ve computed the table of <code>cdc$smoke100</code> and then immediately applied the graphical function, <code>barplot</code>. This is an important idea: R commands can be nested. You could also break this into two steps by typing the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smoke &lt;-<span class="st"> </span><span class="kw">table</span>(cdc$smoke100)

<span class="kw">barplot</span>(smoke)</code></pre></div>
<p>Here, we’ve made a new object, a table, called <code>smoke</code> (the contents of which we can see by typing <code>smoke</code> into the console) and then used it in as the input for <code>barplot</code>. The special symbol <code>&lt;-</code> performs an <em>assignment</em>, taking the output of one line of code and saving it into an object in your workspace. This is another important idea that we’ll return to later.</p>
<hr />
<p><strong>Exercise 2:</strong> Create a numerical summary for <code>height</code> and <code>age</code>, and compute the interquartile range for each. Compute the relative frequency distribution for <code>gender</code> and <code>exerany</code>. How many males are in the sample? What proportion of the sample reports being in excellent health?</p>
<hr />
<p>The <code>table</code> command can be used to tabulate any number of variables that you provide. For example, to examine which participants have smoked across each gender, we could use the following.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(cdc$gender,cdc$smoke100)</code></pre></div>
<p>Here, we see column labels of 0 and 1. Recall that 1 indicates a respondent has smoked at least 100 cigarettes. The rows refer to gender. To create a mosaic plot of this table, we would enter the following command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mosaicplot</span>(<span class="kw">table</span>(cdc$gender,cdc$smoke100))</code></pre></div>
<p>We could have accomplished this in two steps by saving the table in one line and applying <code>mosaicplot</code> in the next (see the table/barplot example above).</p>
<hr />
<p><strong>Exercise 3:</strong> What does the mosaic plot reveal about smoking habits and gender?</p>
<hr />
</div>
<div id="interlude-how-r-thinks-about-data" class="section level2">
<h2><span class="header-section-number">3.3</span> Interlude: How R thinks about data</h2>
<p>We mentioned that R stores data in data frames, which you might think of as a type of spreadsheet. Each row is a different observation (a different respondent) and each column is a different variable (the first is <code>genhlth</code>, the second <code>exerany</code> and so on). We can see the size of the data frame next to the object name in the workspace or we can type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(cdc)</code></pre></div>
<p>which will return the number of rows and columns. Now, if we want to access a subset of the full data frame, we can use row-and-column notation. For example, to see the sixth variable of the 567<sup>th</sup> respondent, use the format</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc[<span class="dv">567</span>,<span class="dv">6</span>]</code></pre></div>
<p>which means we want the element of our data set that is in the 567<sup>th</sup> row (meaning the 567<sup>th</sup> person or observation) and the 6<sup>th</sup> column (in this case, weight). We know that <code>weight</code> is the 6<sup>th</sup> variable because it is the 6<sup>th</sup> entry in the list of variable names</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(cdc)</code></pre></div>
<p>To see the weights for the first 10 respondents we can type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc[<span class="dv">1</span>:<span class="dv">10</span>,<span class="dv">6</span>]</code></pre></div>
<p>In this expression, we have asked just for rows in the range 1 through 10. R uses the <code>:</code> to create a range of values, so 1:10 expands to 1, 2, 3, 4, 5, 6, 7, 8, 9, 10. You can see this by entering</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>:<span class="dv">10</span></code></pre></div>
<p>Finally, if we want all of the data for the first 10 respondents, type</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc[<span class="dv">1</span>:<span class="dv">10</span>,]</code></pre></div>
<p>By leaving out an index or a range (we didn’t type anything between the comma and the square bracket), we get all the columns. When starting out in R, this is a bit counterintuitive. As a rule, we omit the column number to see all columns in a data frame. Similarly, if we leave out an index or range for the rows, we would access all the observations, not just the 567<sup>th</sup>, or rows 1 through 10. Try the following to see the weights for all 20,000 respondents fly by on your screen</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc[,<span class="dv">6</span>]</code></pre></div>
<p>Recall that column 6 represents respondents’ weight, so the command above reported all of the weights in the data set. An alternative method to access the weight data is by referring to the name. Previously, we typed <code>names(cdc)</code> to see all the variables contained in the cdc data set. We can use any of the variable names to select items in our data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc$weight</code></pre></div>
<p>The dollar-sign tells R to look in data frame <code>cdc</code> for the column called <code>weight</code>. Since that’s a single vector, we can subset it with just a single index inside square brackets. We see the weight for the 567<sup>th</sup> respondent by typing</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc$weight[<span class="dv">567</span>]</code></pre></div>
<p>Similarly, for just the first 10 respondents</p>
<pre class="rweight"><code>cdc$weight[1:10]</code></pre>
<p>The command above returns the same result as the <code>cdc[1:10,6]</code> command. Both row-and-column notation and dollar-sign notation are widely used, which one you choose to use depends on your personal preference.</p>
</div>
<div id="a-little-more-on-subsetting" class="section level2">
<h2><span class="header-section-number">3.4</span> A little more on subsetting</h2>
<p>It’s often useful to extract all individuals (cases) in a data set that have specific characteristics. We accomplish this through <em>conditioning</em> commands. First, consider expressions like</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc$gender ==<span class="st"> &quot;m&quot;</span></code></pre></div>
<p>or</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cdc$age &gt;<span class="st"> </span><span class="dv">30</span></code></pre></div>
<p>These commands produce a series of <code>TRUE</code> and <code>FALSE</code> values. There is one value for each respondent, where <code>TRUE</code> indicates that the person was male (via the first command) or older than 30 (second command).</p>
<p>Suppose we want to extract just the data for the men in the sample, or just for those over 30. We can use the R function <code>subset</code> to do that for us. For example, the command</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mdata &lt;-<span class="st"> </span><span class="kw">subset</span>(cdc, cdc$gender ==<span class="st"> &quot;m&quot;</span>)</code></pre></div>
<p>will create a new data set called <code>mdata</code> that contains only the men from the <code>cdc</code> data set. In addition to finding it in your workspace alongside its dimensions, you can take a peek at the first several rows as usual</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mdata)</code></pre></div>
<p>This new data set contains all the same variables but just under half the rows. It is also possible to tell R to keep only specific variables, which is a topic we’ll discuss in a future lab. For now, the important thing is that we can carve up the data based on values of one or more variables.</p>
<p>As an aside, you can use several of these conditions together with <code>&amp;</code> and <code>|</code>. The <code>&amp;</code> is read “and” so that</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m_and_over30 &lt;-<span class="st"> </span><span class="kw">subset</span>(cdc, gender ==<span class="st"> &quot;m&quot;</span> &amp;<span class="st"> </span>age &gt;<span class="st"> </span><span class="dv">30</span>)</code></pre></div>
<p>will give you the data for men over the age of 30. The <code>|</code> character is read “or” so that</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m_or_over30 &lt;-<span class="st"> </span><span class="kw">subset</span>(cdc, gender ==<span class="st"> &quot;m&quot;</span> |<span class="st"> </span>age &gt;<span class="st"> </span><span class="dv">30</span>)</code></pre></div>
<p>will take people who are men or over the age of 30 (why that’s an interesting group is hard to say, but right now the mechanics of this are the important thing). In principle, you may use as many “and” and “or” clauses as you like when forming a subset.</p>
<hr />
<p><strong>Exercise 4:</strong> Create a new object called <code>under23_and_smoke</code> that contains all observations of respondents under the age of 23 that have smoked 100 cigarettes in their lifetime. Write the command you used to create the new object as the answer to this exercise.</p>
<hr />
</div>
<div id="quantitative-data" class="section level2">
<h2><span class="header-section-number">3.5</span> Quantitative data</h2>
<p>With our subsetting tools in hand, we’ll now return to the task of the day: making basic summaries of the BRFSS questionnaire. We’ve already looked at categorical data such as <code>smoke</code> and <code>gender</code> so now let’s turn our attention to quantitative data. Two common ways to visualize quantitative data are with box plots and histograms. We can construct a box plot for a single variable with the following command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(cdc$height)</code></pre></div>
<p>You can compare the locations of the components of the box by examining the summary statistics.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(cdc$height)</code></pre></div>
<p>Confirm that the median and upper and lower quartiles reported in the numerical summary match those in the graph. The purpose of a boxplot is to provide a thumbnail sketch of a variable for the purpose of comparing across several categories. So we can, for example, compare the heights of men and women with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(cdc$height ~<span class="st"> </span>cdc$gender)</code></pre></div>
<p>The notation here is new. The <code>~</code> character can be read <em>versus</em> or <em>as a function of</em>. So we’re asking R to give us a box plots of heights where the groups are defined by gender.</p>
<p>Next let’s consider a new variable that doesn’t show up directly in this data set: Body Mass Index (BMI) (<a href="http://en.wikipedia.org/wiki/Body_mass_index" class="uri">http://en.wikipedia.org/wiki/Body_mass_index</a>). BMI is a weight to height ratio and can be calculated as:</p>
<p><span class="math display">\[ BMI = \frac{weight~(lb)}{height~(in)^2} * 703 \]</span></p>
<p>703 is the approximate conversion factor to change units from metric (meters and kilograms) to imperial (inches and pounds).</p>
<p>The following two lines first make a new object called <code>bmi</code> and then creates box plots of these values, defining groups by the variable <code>cdc$genhlth</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bmi &lt;-<span class="st"> </span>(cdc$weight /<span class="st"> </span>cdc$height^<span class="dv">2</span>) *<span class="st"> </span><span class="dv">703</span>
<span class="kw">boxplot</span>(bmi ~<span class="st"> </span>cdc$genhlth)</code></pre></div>
<p>Notice that the first line above is just some arithmetic, but it’s applied to all 20,000 numbers in the <code>cdc</code> data set. That is, for each of the 20,000 participants, we take their weight, divide by their height-squared and then multiply by 703. The result is 20,000 BMI values, one for each respondent. This is one reason why we like R: it lets us perform computations like this using very simple expressions.</p>
<hr />
<p><strong>Exercise 5:</strong> What does this box plot show? Pick another categorical variable from the data set and see how it relates to BMI. List the variable you chose, why you might think it would have a relationship to BMI, and indicate what the figure seems to suggest.</p>
<hr />
<p>Finally, let’s make some histograms. We can look at the histogram for the age of our respondents with the command</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(cdc$age)</code></pre></div>
<p>Histograms are generally a very good way to see the shape of a single distribution, but that shape can change depending on how the data is split between the different bins. You can control the number of bins by adding an argument to the command. In the next two lines, we first make a default histogram of <code>bmi</code> and then one with 50 breaks.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">hist</span>(bmi)
<span class="kw">hist</span>(bmi, <span class="dt">breaks =</span> <span class="dv">50</span>)</code></pre></div>
<p>Note that you can flip between plots that you’ve created by clicking the forward and backward arrows in the lower right region of RStudio, just above the plots. How do these two histograms compare?</p>
<p>At this point, we’ve done a good first pass at analyzing the information in the BRFSS questionnaire. We’ve found an interesting association between smoking and gender, and we can say something about the relationship between people’s assessment of their general health and their own BMI. We’ve also picked up essential computing tools – summary statistics, subsetting, and plots – that will serve us well throughout this course.</p>
<hr />
</div>
<div id="on-your-own-1" class="section level2">
<h2><span class="header-section-number">3.6</span> On Your Own</h2>
<ul>
<li><p>Make a scatterplot of weight versus desired weight. Describe the relationship between these two variables.</p></li>
<li><p>Let’s consider a new variable: the difference between desired weight (<code>wtdesire</code>) and current weight (<code>weight</code>). Create this new variable by subtracting the two columns in the data frame and assigning them to a new object called <code>wdiff</code>.</p></li>
<li><p>What type of data is <code>wdiff</code>? If an observation <code>wdiff</code> is 0, what does this mean about the person’s weight and desired weight. What if <code>wdiff</code> is positive or negative?</p></li>
<li><p>Describe the distribution of <code>wdiff</code> in terms of its center, shape, and spread, including any plots you use. What does this tell us about how people feel about their current weight?</p></li>
<li><p>Using numerical summaries and a side-by-side box plot, determine if men tend to view their weight differently than women.</p></li>
<li><p>Now it’s time to get creative. Find the mean and standard deviation of <code>weight</code> and determine what proportion of the weights that are within one standard deviation of the mean.</p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-r-and-rstudio.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-normal-distribution.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": "2"
},
"edit": {
"link": null,
"text": null
},
"download": ["kuyper-stat202.pdf", "kuyper-stat202.epub"],
"toc": {
"collapse": "none"
},
"highlight": "tango"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
